module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},28729,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.AppRouterContext},29741,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.HooksClientContext},93601,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.ServerInsertedHtml},75066,a=>{"use strict";var b=a.i(75991),c=a.i(80971),d=a.i(74652);let e=(0,d.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),f=(0,d.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);var g=a.i(34694);let h=({className:a=""})=>{let{effectiveTheme:c,toggleTheme:d}=(0,g.useTheme)();return(0,b.jsx)("button",{onClick:d,className:`inline-flex items-center justify-center p-2 rounded-md transition-colors
        text-gray-500 hover:text-gray-700 hover:bg-gray-100
        dark:text-monokai-muted dark:hover:text-monokai-text dark:hover:bg-monokai-surface
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nomad-500
        dark:focus:ring-offset-monokai-bg ${a}`,"aria-label":"dark"===c?"Switch to light mode":"Switch to dark mode",children:"dark"===c?(0,b.jsx)(e,{className:"h-5 w-5"}):(0,b.jsx)(f,{className:"h-5 w-5"})})};a.s(["ThemeToggle",0,({className:a=""})=>{let[d,e]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{e(!0)},[]),d)?(0,b.jsx)(h,{className:a}):(0,b.jsx)("button",{className:`inline-flex items-center justify-center p-2 rounded-md transition-colors
          text-gray-500 hover:text-gray-700 hover:bg-gray-100
          dark:text-monokai-muted dark:hover:text-monokai-text dark:hover:bg-monokai-surface
          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nomad-500
          dark:focus:ring-offset-monokai-bg ${a}`,"aria-label":"Toggle theme",children:(0,b.jsx)(f,{className:"h-5 w-5"})})}],75066)},90795,a=>{"use strict";class b{baseUrl;token;constructor(a,b){console.log("Initializing NomadClient with:",{nomadAddr:a,token:b}),this.baseUrl=a.endsWith("/")?a.slice(0,-1):a,console.log("Using direct baseUrl:",this.baseUrl),this.token=b}async request(a,b={}){let{params:c,...d}=b,e=`${this.baseUrl}${a}`;if(c){let a=new URLSearchParams;Object.entries(c).forEach(([b,c])=>{a.append(b,String(c))}),e=`${e}?${a.toString()}`}let f={"X-Nomad-Token":this.token,"Content-Type":"application/json",...d.headers};try{let a=await fetch(e,{...d,headers:f});if(!a.ok){let b=await a.json().catch(()=>({}));throw{statusCode:a.status,message:b.error||`API request failed with status ${a.status}`}}if(a.headers.get("content-type")?.includes("application/json"))return await a.json();return{Data:await a.text()}}catch(a){if(a.statusCode)throw a;throw{statusCode:0,message:`Network error: ${a.message}`}}}async getJobs(a){try{let b={};a?b.namespace=a:b.namespace="*";let c=await this.request("/v1/jobs",{method:"GET",params:b});return console.log("Processed jobs:",c),{Jobs:c}}catch(a){throw console.error("Error in getJobs():",a),a}}async getJob(a,b="default"){return this.request(`/v1/job/${a}`,{params:{namespace:b}})}async createJob(a){return this.request("/v1/jobs",{method:"POST",body:JSON.stringify(a)})}async updateJob(a){return this.createJob(a)}async stopJob(a,b="default"){return this.request(`/v1/job/${a}`,{method:"DELETE",params:{namespace:b}})}async deleteJob(a,b="default"){return this.request(`/v1/job/${a}`,{method:"DELETE",params:{namespace:b,purge:"true"}})}async getJobAllocations(a,b="default"){return this.request(`/v1/job/${a}/allocations`,{params:{namespace:b}})}async getAllocation(a){return this.request(`/v1/allocation/${a}`)}async getAllocationLogs(a,b,c,d=!0){return this.request(`/v1/client/fs/logs/${a}`,{method:"GET",params:{task:b,type:c,plain:d}})}async getPlugins(){return this.request("/v1/plugins")}async getNamespaces(){try{return this.request("/v1/namespaces")}catch(a){return console.error("Failed to fetch namespaces:",a),[{Name:"default"}]}}async validateConnection(){try{return await this.request("/v1/agent/self"),!0}catch(a){return!1}}}function c(a,c){return new b(a,c)}a.s(["createNomadClient",()=>c])},80814,a=>{"use strict";var b=a.i(75991),c=a.i(80971),d=a.i(95892),e=a.i(89676),f=a.i(90795),g=a.i(75066);let h=()=>{let[a,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),{login:o,isAuthenticated:p}=(0,e.useAuth)(),q=(0,d.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/config");if(a.ok){let b=await a.json();b.nomadAddr&&j(b.nomadAddr)}}catch(a){console.error("Error fetching config:",a)}})()},[]),(0,c.useEffect)(()=>{p&&q.push("/dashboard")},[p,q]);let r=async b=>{b.preventDefault(),n(null),l(!0);try{if(!a.trim())throw Error("Token is required");if(!i.trim())throw Error("Nomad address is required");let b=i.trim();b.startsWith("http://")||b.startsWith("https://")||(b=`http://${b}`);let c=(0,f.createNomadClient)(b,a);if(!await c.validateConnection())throw Error("Failed to connect to Nomad. Please check your token and address.");o(a,b),q.push("/dashboard")}catch(a){n(a.message)}finally{l(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-monokai-bg relative",children:[(0,b.jsx)("div",{className:"absolute top-4 right-4",children:(0,b.jsx)(g.ThemeToggle,{})}),(0,b.jsxs)("div",{className:"max-w-md w-full p-6 bg-white dark:bg-monokai-surface rounded-lg shadow-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-monokai-text",children:"Nomad Compass"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-monokai-muted",children:"Sign in to manage your Nomad cluster"})]}),m&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 dark:bg-monokai-bg dark:text-monokai-red rounded-md text-sm",children:m}),(0,b.jsxs)("form",{onSubmit:r,children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 dark:text-monokai-text mb-1",children:"Nomad Token"}),(0,b.jsx)("input",{id:"token",type:"password",value:a,onChange:a=>h(a.target.value),placeholder:"Enter your Nomad token",className:"w-full p-2 border border-gray-300 dark:border-monokai-muted rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-monokai-blue bg-white dark:bg-monokai-bg text-gray-900 dark:text-monokai-text",disabled:k})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 dark:bg-monokai-blue dark:hover:bg-blue-500 text-white font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-monokai-surface transition-colors disabled:opacity-50",disabled:k,children:k?"Connecting...":"Connect to Nomad"})]})]})]})};function i(){let{isAuthenticated:a}=(0,e.useAuth)(),f=(0,d.useRouter)();return(0,c.useEffect)(()=>{a&&f.push("/dashboard")},[a,f]),(0,b.jsx)(h,{})}a.s(["default",()=>i],80814)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e14b2c47._.js.map