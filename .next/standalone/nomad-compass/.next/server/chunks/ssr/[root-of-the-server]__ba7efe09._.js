module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},28729,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.AppRouterContext},29741,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.HooksClientContext},93601,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored.contexts.ServerInsertedHtml},44791,(a,b,c)=>{"use strict";b.exports=a.r(84517).vendored["react-ssr"].ReactServerDOMTurbopackClient},75066,a=>{"use strict";var b=a.i(75991),c=a.i(80971),d=a.i(74652);let e=(0,d.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),f=(0,d.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);var g=a.i(34694);let h=({className:a=""})=>{let{effectiveTheme:c,toggleTheme:d}=(0,g.useTheme)();return(0,b.jsx)("button",{onClick:d,className:`inline-flex items-center justify-center p-2 rounded-md transition-colors
        text-gray-500 hover:text-gray-700 hover:bg-gray-100
        dark:text-monokai-muted dark:hover:text-monokai-text dark:hover:bg-monokai-surface
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nomad-500
        dark:focus:ring-offset-monokai-bg ${a}`,"aria-label":"dark"===c?"Switch to light mode":"Switch to dark mode",children:"dark"===c?(0,b.jsx)(e,{className:"h-5 w-5"}):(0,b.jsx)(f,{className:"h-5 w-5"})})};a.s(["ThemeToggle",0,({className:a=""})=>{let[d,e]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{e(!0)},[]),d)?(0,b.jsx)(h,{className:a}):(0,b.jsx)("button",{className:`inline-flex items-center justify-center p-2 rounded-md transition-colors
          text-gray-500 hover:text-gray-700 hover:bg-gray-100
          dark:text-monokai-muted dark:hover:text-monokai-text dark:hover:bg-monokai-surface
          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nomad-500
          dark:focus:ring-offset-monokai-bg ${a}`,"aria-label":"Toggle theme",children:(0,b.jsx)(f,{className:"h-5 w-5"})})}],75066)},90795,a=>{"use strict";class b{baseUrl;token;constructor(a,b){console.log("Initializing NomadClient with:",{nomadAddr:a,token:b}),this.baseUrl=a.endsWith("/")?a.slice(0,-1):a,console.log("Using direct baseUrl:",this.baseUrl),this.token=b}async request(a,b={}){let{params:c,...d}=b,e=`${this.baseUrl}${a}`;if(c){let a=new URLSearchParams;Object.entries(c).forEach(([b,c])=>{a.append(b,String(c))}),e=`${e}?${a.toString()}`}let f={"X-Nomad-Token":this.token,"Content-Type":"application/json",...d.headers};try{let a=await fetch(e,{...d,headers:f});if(!a.ok){let b=await a.json().catch(()=>({}));throw{statusCode:a.status,message:b.error||`API request failed with status ${a.status}`}}if(a.headers.get("content-type")?.includes("application/json"))return await a.json();return{Data:await a.text()}}catch(a){if(a.statusCode)throw a;throw{statusCode:0,message:`Network error: ${a.message}`}}}async getJobs(a){try{let b={};a?b.namespace=a:b.namespace="*";let c=await this.request("/v1/jobs",{method:"GET",params:b});return console.log("Processed jobs:",c),{Jobs:c}}catch(a){throw console.error("Error in getJobs():",a),a}}async getJob(a,b="default"){return this.request(`/v1/job/${a}`,{params:{namespace:b}})}async createJob(a){return this.request("/v1/jobs",{method:"POST",body:JSON.stringify(a)})}async updateJob(a){return this.createJob(a)}async stopJob(a,b="default"){return this.request(`/v1/job/${a}`,{method:"DELETE",params:{namespace:b}})}async deleteJob(a,b="default"){return this.request(`/v1/job/${a}`,{method:"DELETE",params:{namespace:b,purge:"true"}})}async getJobAllocations(a,b="default"){return this.request(`/v1/job/${a}/allocations`,{params:{namespace:b}})}async getAllocation(a){return this.request(`/v1/allocation/${a}`)}async getAllocationLogs(a,b,c,d=!0){return this.request(`/v1/client/fs/logs/${a}`,{method:"GET",params:{task:b,type:c,plain:d}})}async getPlugins(){return this.request("/v1/plugins")}async getNamespaces(){try{return this.request("/v1/namespaces")}catch(a){return console.error("Failed to fetch namespaces:",a),[{Name:"default"}]}}async validateConnection(){try{return await this.request("/v1/agent/self"),!0}catch(a){return!1}}}function c(a,c){return new b(a,c)}a.s(["createNomadClient",()=>c])},61544,a=>{"use strict";var b=a.i(75991),c=a.i(35774),d=a.i(80971),e=a.i(89676),f=a.i(90795),g=a.i(52784);let h=()=>{let[a,c]=(0,d.useState)([]),[h,i]=(0,d.useState)([]),[j,k]=(0,d.useState)("*"),[l,m]=(0,d.useState)(!0),[n,o]=(0,d.useState)(null),{token:p,nomadAddr:q}=(0,e.useAuth)();return((0,d.useEffect)(()=>{(async()=>{if(!p||!q){o("Authentication required"),m(!1);return}try{let a=(0,f.createNomadClient)(q,p),b=await a.getNamespaces(),d=[{Name:"*",Description:"All Namespaces"},...b.sort((a,b)=>a.Name.localeCompare(b.Name))];i(d);let e=await a.getJobs(j);c(e.Jobs||[]),o(null)}catch(a){console.error("Failed to fetch namespaces or jobs:",a),o("Failed to load namespaces or jobs. Please check your connection and try again.")}finally{m(!1)}})()},[p,q,j]),l)?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 dark:border-monokai-blue"})}):n?(0,b.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 dark:bg-monokai-surface dark:border-monokai-red dark:text-monokai-red px-4 py-3 rounded relative",role:"alert",children:[(0,b.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,b.jsx)("span",{className:"block sm:inline",children:n})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center space-x-4",children:[(0,b.jsx)("label",{htmlFor:"namespace-select",className:"text-sm font-medium text-gray-700 dark:text-monokai-text",children:"Namespace:"}),(0,b.jsx)("select",{id:"namespace-select",value:j,onChange:a=>{k(a.target.value)},className:"block w-auto pl-3 pr-10 py-2 text-sm border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md dark:bg-monokai-surface dark:border-monokai-muted dark:text-monokai-text dark:focus:ring-monokai-blue dark:focus:border-monokai-blue",children:h.map(a=>(0,b.jsx)("option",{value:a.Name,children:"*"===a.Name?"All Namespaces":a.Name},a.Name))})]}),0===a.length?(0,b.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 dark:bg-monokai-surface dark:border-monokai-yellow",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-yellow-400 dark:text-monokai-yellow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-monokai-yellow",children:["No jobs found ","*"!==j?`in ${j} namespace`:""]})})]})}):(0,b.jsx)("div",{className:"bg-white dark:bg-monokai-surface shadow rounded-lg overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full bg-white dark:bg-monokai-surface",children:[(0,b.jsx)("thead",{className:"bg-gray-100 dark:bg-monokai-bg border-b dark:border-monokai-muted",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-monokai-muted uppercase tracking-wider",children:"Name / ID"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-monokai-muted uppercase tracking-wider",children:"Namespace"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-monokai-muted uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-monokai-muted uppercase tracking-wider",children:"Type"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-monokai-muted uppercase tracking-wider",children:"Node Pool"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-monokai-muted",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-monokai-bg",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-monokai-text",children:(0,b.jsx)(g.default,{href:`/jobs/${a.ID}?namespace=${a.Namespace||"default"}`,className:"text-blue-600 hover:text-blue-800 dark:text-monokai-blue dark:hover:text-monokai-blue",children:a.Name})}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-monokai-muted",children:a.ID})]})})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900 dark:text-monokai-text",children:(0,b.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-monokai-bg dark:text-monokai-blue",children:a.Namespace||"default"})})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((a,b)=>{if(b)return"text-gray-600 bg-gray-100 dark:text-monokai-muted dark:bg-monokai-surface";switch(a.toLowerCase()){case"running":return"text-green-600 bg-green-100 dark:text-monokai-green dark:bg-monokai-surface";case"pending":return"text-yellow-600 bg-yellow-100 dark:text-monokai-yellow dark:bg-monokai-surface";case"dead":return"text-red-600 bg-red-100 dark:text-monokai-red dark:bg-monokai-surface";default:return"text-gray-600 bg-gray-100 dark:text-monokai-muted dark:bg-monokai-surface"}})(a.Status,a.Stop)}`,children:[a.Status," ",a.Stop?"(Stopped)":""]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900 dark:text-monokai-text",children:a.Type})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900 dark:text-monokai-text",children:"default"})})]},a.ID))})]})})})]})};function i(){return(0,b.jsx)(c.default,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Nomad Jobs"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View and manage jobs running in your Nomad cluster"})]}),(0,b.jsx)("div",{children:(0,b.jsx)(g.default,{href:"/jobs/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Job"})})]}),(0,b.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(h,{})})})]})})}a.s(["default",()=>i],61544)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ba7efe09._.js.map